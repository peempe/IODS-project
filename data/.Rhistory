source("http://www.survo.fi/install.R")
library(haven)
otosdata <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata.dta")
View(otosdata)
View(otosdata)
View(otosdata)
View(otosdata)
otosdata <- NULL
library(haven)
otosdata <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata.dta")
View(otosdata)
describe
str(otodsdata)
str(otosdata)
rename?
?rename
?label
colname?
?colnames
?colnames
otosdata2<-otosdata
nimiv<-c('nimi1','nimi2')
colnames(otosdata2)<-nimiv
View(otosdata2)
otosdata2<-otosdata
nimiv<-c('nimi1','nimi2','nimi3')
colnames(otosdata2)<-nimiv
View(otosdata2)
str(otosdata2)
''
otosdata2$nimi1
otosdata2$nimi1<-label(asd'')
otosdata2$nimi1<-label('asd')
otosdata2$nimi1<-label('asd')
var.labels <- c(nimi1 = "töttörööjuho")
var.labels <- c(otosdata2$nimi1 = "töttörööjuho")
otosdata2<-NULL
library(haven)
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
View(otosdata)
library(haven)
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
View(otosdata2)
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
library(haven)
library("haven")
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
View(otosdata2)
install.packages("haven")
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
View(otosdata2)
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
library("haven")
install.packages("haven")
library("haven")
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata2.dta")
View(otosdata2)
library("haven")
library("haven")
library(haven)
library(haven)
install.packages("haven")
library(haven)
library('haven')
library('haven')
install.packages("haven")
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata.dta")
View(otosdata2)
?haven
?haven
?read.dta
library("haven", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
instage.packages(rlang)
install.packages(rlang)
install.packages("rlang")
install.packages("haven")
library('haven')
otosdata2 <- read_dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata.dta")
View(otosdata2)
library('haven')
install.packages("rlang")
library(rlang)
library("rlang")
install.packages("rlang")
ggplot(1)
install.packages("ggplot")
?help
?version
plot(otosdata$lapsen_kuolema_87_12)
otosdata
install.packages("rlang")
?rlang
??rlang
library("rlang")
read.dta
?read.dta
??read.dts
??read.dta
install.packages("foreign")
library(foreign)
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata.dta")
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta")
?read.dta
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", fileEncoding="UTF-8")
View(otosdata2)
?fileEncoding
?read.dta
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", fileEncoding="UTF-16")
View(otosdata2)
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", fileEncoding="ANCI")
View(otosdata2)
?replace
otosdata3<-replace(otosdata2,"<e4>","ä")
View(otosdata3)
otosdata3<-replace(otosdata2$rikosrek,"<e4>","ä")
otosdata3<-NULL
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", encoding="UTF-8")
View(otosdata2)
View(otosdata2)
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", fileEncoding="UTF-8")
View(otosdata2)
read.dta13
install.packages(read.dta13)
?read.dta13
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", encoding=NULL)
View(otosdata2)
otosdata2 <- read.dta13("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta", encoding=NULL)
View(otosdata2)
library(foreign)
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta")
View(otosdata2)
library(foreign)
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta")
View(otosdata2)
otosdata2[otosdata2=="<e4>"]<-"ä"
distict(otosdata$ydinp_muu)
unique(otosdata$ydinp_muu)
?unique
unique(otosdata2$ydinp_muu)
?replace
replace(otosdata2$ydinp_muu,"muu kuin ydinperhe; jompi kumpi tai molemmat vanhemmat kuolleet, ero tai ei naimisissa vuoteen 88 menness\xe4","aaaa")
otos4<-replace(otosdata2$ydinp_muu,"muu kuin ydinperhe; jompi kumpi tai molemmat vanhemmat kuolleet, ero tai ei naimisissa vuoteen 88 menness\xe4","aaaa")
View(otos4)
otos4<-NULL
otosdata2 <- read.dta("~/Desktop/OneDrive - University of Helsinki/Väikkäri/DATA/Harjoittelua/otosdata_12.dta")
View(otosdata2)
unique(otosdata2$laps_kuol)
otosfilt$alive<-ifelse(otosfilt$laps_kuol=="Elossa",1,0)
View(otosfilt)
otosfilt<-otosdata2
otosfilt$alive<-ifelse(otosfilt$laps_kuol=="Elossa",1,0)
View(otosfilt)
otosfilt<-otosdata2
otosfilt$alive<-ifelse(otosfilt$laps_kuol=="Elossa",1,
ifelse(otosfilt$laps_kuol=="Kuollut"),0,404)
View(otosfilt)
unique(otosfilt$alive)
otosfilt<-otosdata2
otosfilt$alive<-ifelse(otosfilt$laps_kuol=="Elossa",1,
ifelse(otosfilt$laps_kuol=="Kuollut",0,404))
View(otosfilt)
unique(otosfilt$alive)
otosfilt<-otosdata2
otosfilt$IsAlive<-ifelse(otosfilt$laps_kuol=="Elossa",1,
ifelse(otosfilt$laps_kuol=="Kuollut",0,404))
uniqueo(otosfilt$IsAlive)
View(otosfilt)
otosfilt<-otosdata2
otosfilt$IsAlive<-ifelse(otosfilt$laps_kuol=="Elossa",1,
ifelse(otosfilt$laps_kuol=="Kuollut",0,404))
uniqueo(otosfilt$IsAlive)
otosfilt$laps_kuol<-NULL
View(otosfilt)
unique(otosfilt$vanh_ero)
otosfilt<-otosdata2
# otosfilt$IsAlive<-ifelse(otosfilt$laps_kuol=="Elossa",1,
#                        ifelse(otosfilt$laps_kuol=="Kuollut",0,404))
# uniqueo(otosfilt$IsAlive)
# otosfilt$laps_kuol<-NULL
View(otosfilt)
plot(otosfilt$_`_Ivanh_ero_1`)
plot(otosfilt$_Ivanh_ero_1)
plot(otosfilt$_lvanh_ero_1)
plot(otosfilt$_1vanh_ero_1)
colnames(otosfilt)
plot(otosfilt$_Ivanh_ero_1,otosfilt$tke)
unique(otosfilt$tke)
otosfilt<-otosdata2
otosfilt$OnTyokyvyttomyysElakkeella<-ifelse(otosfilt$tke=="tyokyvyttomyyselake 05-12",1,
ifelse(otosfilt$tke=="ei tyokyvyttomyyselakkeella",0,404))
unique(otosfilt$OnTyokyvyttomyysElakkeella)
otosfilt$laps_kuol<-NULL
View(otosfilt)
unique(otosfilt$OnTyokyvyttomyysElakkeella)
uniqe(otosfilt$vanh_ero)
unique(otosfilt$vanh_ero)
otosfilt<-otosdata2
#Työkyvyttömyyseläke
otosfilt$OnTyokyvyttomyysElakkeella<-ifelse(otosfilt$tke=="tyokyvyttomyyselake 05-12",1,
ifelse(otosfilt$tke=="ei tyokyvyttomyyselakkeella",0,404))
unique(otosfilt$OnTyokyvyttomyysElakkeella)
#Divorced parents
unique(otosfilt$vanh_ero)
otosfilt$OnParentsDivorced<-ifelse(otosfilt$vanh_ero="Ei avioeroa",0,
ifelse(otosfilt$vanh_ero=="Avioero",1,404))
unique(otosfilt$OnParentsDivorced)
View(otosfilt)
otosfilt<-otosdata2
tosfilt$OnTyokyvyttomyysElakkeella<-ifelse(otosfilt$tke=="tyokyvyttomyyselake 05-12",1,
ifelse(otosfilt$tke=="ei tyokyvyttomyyselakkeella",0,404))
unique(otosfilt$OnTyokyvyttomyysElakkeella)
otosfilt<-otosdata2
#Työkyvyttömyyseläke
otosfilt$OnTyokyvyttomyysElakkeella<-ifelse(otosfilt$tke=="tyokyvyttomyyselake 05-12",1,
ifelse(otosfilt$tke=="ei tyokyvyttomyyselakkeella",0,404))
unique(otosfilt$OOnTyokyvyttomyysElakkeella)
#Työkyvyttömyyseläke
otosfilt$OnTyokyvyttomyysElakkeella<-ifelse(otosfilt$tke=="tyokyvyttomyyselake 05-12",1,
ifelse(otosfilt$tke=="ei tyokyvyttomyyselakkeella",0,404))
unique(otosfilt$OnTyokyvyttomyysElakkeella)
unique(otosfilt$vanh_ero)
otosfilt$OnParentsDivorced<-ifelse(otosfilt$vanh_ero="Ei avioeroa",0,
ifelse(otosfilt$vanh_ero=="Avioero",1,404))
unique(otosfilt$OnParentsDivorced)
unique(otosfilt$vanh_ero)
otosfilt$OnParentsDivorced<-ifelse(otosfilt$vanh_ero="Ei avioeroa",0,
ifelse(otosfilt$vanh_ero=="Avioero",1,404))
unique(otosfilt$OnParentsDivorced)
unique(otosfilt$vanh_ero)
otosfilt$OnParentsDivorced<-ifelse(otosfilt$vanh_ero=="Ei avioeroa",0,
ifelse(otosfilt$vanh_ero=="Avioero",1,404))
unique(otosfilt$OnParentsDivorced)
View(otosfilt)
plot(otosfilt$OnTyokyvyttomyysElakkeella,otosfilt$OnParentsDivorced)
cor(otosfilt$OnParentsDivorced,otosfilt$OnTyokyvyttomyysElakkeella)
?cor
cor(otosfilt$OnParentsDivorced,otosfilt$OnTyokyvyttomyysElakkeella,method="spearman")
plot(otosfilt$OnTyokyvyttomyysElakkeella,otosfilt$syntpv)
ggplot
install.packages("ggplot")
lirary(ggplot)
?density
str(otosfilt)
plot(otosfilt$l_kakaik,otosfilt$syntpv)
cor(otosfilt$l_kakaik,otosfilt$OnParentsDivorced)
plot(otosfilt$l_kakaik,otosfilt$ltmt_pvyht)
?plot
?ggplot
library(ggplot)
library("ggplot")
View(otosdata2)
setwd("~/Documents/GitHub/IODS-project/data")
read.table("learning2014.csv")
setwd("~/Documents/GitHub/IODS-project/data")
setwd("/Users/peempe/Documents/GitHub/IODS-project/data")
learning2014 <- read.table(file = "learning2014.csv")
install.packages("readr")
install.packages("readr")
library(readr)
learning2014 <- read_csv("learning2014.csv")
learning2014 <- read.table("learning2014.csv",header=T,sep="\t")
load("~/Documents/GitHub/IODS-project/data/learning2014.csv")
read.table("learning2014.csv")
head(learning2014)
library(dplyr)
deep_questions <- c("D03", "D11", "D19", "D27", "D07", "D14", "D22", "D30","D06",  "D15", "D23", "D31")
deep_columns <- select(lrn14, one_of(deep_questions))
lrn14$deep <- rowMeans(deep_columns)
surface_questions <- c("SU02","SU10","SU18","SU26", "SU05","SU13","SU21","SU29","SU08","SU16","SU24","SU32")
surface_columns <- select(lrn14, one_of(surface_questions))
lrn14$surf <- rowMeans(surface_columns)
strategic_questions <- c("ST01","ST09","ST17","ST25","ST04","ST12","ST20","ST28")
strategic_columns <- select(lrn14, one_of(strategic_questions))
lrn14$stra <- rowMeans(strategic_columns)
# Analysis dataset
keep_columns <- c("gender","Age","Attitude", "deep", "stra", "surf", "Points")
learning2014 <- select(lrn14, one_of(keep_columns))
# Renaming the variables
colnames(learning2014)[2] <- "age"
colnames(learning2014)[7] <- "points"
# Excluding observations where the exam points variable is zero
learning2014 <- filter(learning2014, points > 0
lrn14 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt", sep="\t", header=TRUE)
deep_questions <- c("D03", "D11", "D19", "D27", "D07", "D14", "D22", "D30","D06",  "D15", "D23", "D31")
deep_columns <- select(lrn14, one_of(deep_questions))
lrn14$deep <- rowMeans(deep_columns)
surface_questions <- c("SU02","SU10","SU18","SU26", "SU05","SU13","SU21","SU29","SU08","SU16","SU24","SU32")
surface_columns <- select(lrn14, one_of(surface_questions))
lrn14$surf <- rowMeans(surface_columns)
strategic_questions <- c("ST01","ST09","ST17","ST25","ST04","ST12","ST20","ST28")
strategic_columns <- select(lrn14, one_of(strategic_questions))
lrn14$stra <- rowMeans(strategic_columns)
# Analysis dataset
keep_columns <- c("gender","Age","Attitude", "deep", "stra", "surf", "Points")
learning2014 <- select(lrn14, one_of(keep_columns))
# Renaming the variables
colnames(learning2014)[2] <- "age"
colnames(learning2014)[7] <- "points"
# Excluding observations where the exam points variable is zero
learning2014 <- filter(learning2014, points > 0)
lrn14 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt", sep="\t", header=TRUE)
dim(lrn14)  # 183 rows/observations and 60 columns/variables
str(lrn14)
library(dplyr)
deep_questions <- c("D03", "D11", "D19", "D27", "D07", "D14", "D22", "D30","D06",  "D15", "D23", "D31")
deep_columns <- select(lrn14, one_of(deep_questions))
lrn14$deep <- rowMeans(deep_columns)
surface_questions <- c("SU02","SU10","SU18","SU26", "SU05","SU13","SU21","SU29","SU08","SU16","SU24","SU32")
surface_columns <- select(lrn14, one_of(surface_questions))
lrn14$surf <- rowMeans(surface_columns)
strategic_questions <- c("ST01","ST09","ST17","ST25","ST04","ST12","ST20","ST28")
strategic_columns <- select(lrn14, one_of(strategic_questions))
lrn14$stra <- rowMeans(strategic_columns)
keep_columns <- c("gender","Age","Attitude", "deep", "stra", "surf", "Points")
learning2014 <- select(lrn14, one_of(keep_columns))
colnames(learning2014)[2] <- "age"
colnames(learning2014)[7] <- "points"
learning2014 <- filter(learning2014, points > 0)
write.table(learning2014, file = "learning2014.csv")
learning2014 <- read.table("learning2014.csv")
learning2014 <- read.table("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/learning2014.txt",
sep = ",", header = T)
library(ggplot2)
library(GGally)
library(GGally)
p <- ggpairs(learning2014, mapping = aes(col = gender, alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))
p
p <- ggpairs(learning2014, mapping = aes(col = gender, alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))
p
p1 <- ggplot(learning2014, aes(x = attitude, y = points, col = gender))
p1
pairs((learning2014[-1]), col = learning2014$gender)
pairs((learning2014[-1]), col = learning2014$gender)
